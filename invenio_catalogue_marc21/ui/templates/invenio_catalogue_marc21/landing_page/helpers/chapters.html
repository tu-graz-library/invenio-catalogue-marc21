{#
    Copyright (C) 2024 Graz University of Technology.
  
    invenio-catalogue-marc21 is free software; you can redistribute it and/or
    modify it under the terms of the MIT License; see LICENSE file for more
    details.
#}


{%- macro show_item(metadata, icon="file alternate", links={}, children=[]) %}
  <div class="item">
    <i class="icon {{ icon }}"></i>
    <div class="content">
      {%- if links.self_html %}
      <a href="{{ links.self_html }}">
      {%- endif %}
        <div class="header">{{ metadata.get('title_statement', {}).get('title') }}</div>
      {%- if links.self_html %}
      </a>
      {%- endif %}
      <div class="description">{{ metadata.get('main_entry_personal_name', {}).get('personal_name') }}</div>
      {% if children %}
        <div class="list">
          {% for child in children %}
            {{ show_item(metadata=child.get('metadata', {}), links=child.get('links', {}), children=child.get('children', [])) }}
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
{%- endmacro %}

<div class="ui raised card fluid">
    <div class="header center aligned">
        <div class="ui hudge header pt-10 pb-10">
            Chapters
        </div>
    </div>
  <div class="content">

    <div class="ui list">
      {% if catalogue.root.id != catalogue.parent.id %}
        {{ show_item(metadata=catalogue.root.metadata, links=catalogue.root.links, children=[]) }}
      {% endif %}
      {{ show_item(metadata=catalogue.parent.metadata, icon="file", links=catalogue.parent.links, children=catalogue.children) }}
    </div>
  </div>
</div>